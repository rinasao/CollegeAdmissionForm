<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Password Reset</title>
    <!-- Add icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css" />
    <!-- <script src="admin.js"></script> -->
    <script type="text/javascript">
        function validate() {
            event.preventDefault();

            let email = document.getElementById("email").value;
            console.log("email", email)
            let forgotPasswordData = {
                email: email,
            };

            fetch('http://localhost:9000/user/forgot', {
                method: 'post',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(forgotPasswordData)
            }).then(function (response) {
                return response.json()
            }).then(function (data) {
                console.log(">>>>>>>>>>", data)
                if (data.message == "Password Sent at your Email") {
                    alert(data.message);
                    window.location = "http://localhost:9000/signin.html"
                } else {
                    alert(data.message);
                    return false;
                }
            })
        }
    </script>
</head>

<body class="bg">
    <br>
    <br>
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-md-4 col-md-offset-4">
                <div class="account-wall">
                    <h1 class="text-center login-title">Forgot Password</h1>
                    <p class="text-center">
                        Enter your valid email before procced to password reset.
                    <form class="form-signin" name="forms" onSubmit="return validate(this.form)">
                        <input type="text" id="email" class="form-control" placeholder="Your e-mail address" required
                            autofocus>
                        <br>
                        <button class="btn btn-lg btn-primary btn-block" style="width:100%" type="submit">
                            Get my Password</button>
                        <span class="need-help text-center" style="font-size:15px;"><a href="signin.html"> Sign In </a>
                            | <a href="signup.html"> Sign Up </a><span class="clearfix"></span>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>

</html>